### 给节点打标签
[root@master01 ~]# kubectl label node node01.qytanghost.com qytk8stop=beijingqytang
node/node01.qytanghost.com labeled

### 查看添加的标签
[root@master01 ~]# kubectl get node node01.qytanghost.com --show-labels
NAME                    STATUS   ROLES   AGE    VERSION    LABELS
node01.qytanghost.com   Ready    node    166m   v1.20.11   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=node01.qytanghost.com,kubernetes.io/os=linux,node-role.kubernetes.io/node=,qytk8stop=beijingqytang,rack=1


### 删除标签
[root@master01 ~]# kubectl label node node01.qytanghost.com qytk8stop-
node/node01.qytanghost.com labeled

### 查看node详情, 查看标签已经被删除
[root@master01 ~]# kubectl get node node01.qytanghost.com --show-labels
NAME                    STATUS   ROLES   AGE    VERSION    LABELS
node01.qytanghost.com   Ready    node    167m   v1.20.11   beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/arch=amd64,kubernetes.io/hostname=node01.qytanghost.com,kubernetes.io/os=linux,node-role.kubernetes.io/node=,rack=1

### 先应用node选择和node亲和的Pod
```shell script
kubectl apply -f http://mgmtcentos.qytanghost.com/nodeaffinity/affinity-pod-dp.yaml

```

### 再应用pod亲和的Pod
```shell script
kubectl apply -f http://mgmtcentos.qytanghost.com/nodeaffinity/affinity-affinity-dp.yaml

```

### 再应用pod反亲和的Pod
```shell script
kubectl apply -f http://mgmtcentos.qytanghost.com/nodeaffinity/affinity-anti-dp.yaml

```

### 查看pod,确认亲和和反亲和策略
[root@master01 ~]# kubectl get pod -o wide
NAME                                         READY   STATUS    RESTARTS   AGE     IP              NODE                    NOMINATED NODE   READINESS GATES
affinity-84fbdcf56d-2747v                    1/1     Running   0          26s     172.16.203.14   node03.qytanghost.com   <none>           <none>
affinity-84fbdcf56d-9w78g                    1/1     Running   0          14s     172.16.203.16   node03.qytanghost.com   <none>           <none>
affinity-84fbdcf56d-wcw9d                    1/1     Running   0          20s     172.16.203.15   node03.qytanghost.com   <none>           <none>
affinity-pod-7546979ff7-7xthr                1/1     Running   0          7m27s   172.16.203.10   node03.qytanghost.com   <none>           <none>
anti-affinity-794cbc7d6d-kmdpt               1/1     Running   0          14s     172.16.201.35   node01.qytanghost.com   <none>           <none>
anti-affinity-794cbc7d6d-ltbg5               1/1     Running   0          18s     172.16.201.34   node01.qytanghost.com   <none>           <none>
anti-affinity-794cbc7d6d-qn2ns               1/1     Running   0          23s     172.16.201.33   node01.qytanghost.com   <none>           <none>

